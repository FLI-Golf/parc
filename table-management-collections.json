{
  "collections": [
    {
      "id": "sections_collection",
      "name": "sections",
      "type": "base",
      "system": false,
      "schema": [
        {
          "id": "section_name",
          "name": "section_name",
          "type": "text",
          "system": false,
          "required": true,
          "options": {
            "min": null,
            "max": 100,
            "pattern": ""
          }
        },
        {
          "id": "section_code",
          "name": "section_code",
          "type": "text",
          "system": false,
          "required": true,
          "options": {
            "min": 1,
            "max": 10,
            "pattern": ""
          }
        },
        {
          "id": "area_type",
          "name": "area_type",
          "type": "select",
          "system": false,
          "required": true,
          "options": {
            "maxSelect": 1,
            "values": [
              "dining",
              "patio",
              "bar",
              "private_dining",
              "high_top"
            ]
          }
        },
        {
          "id": "assigned_server",
          "name": "assigned_server",
          "type": "relation",
          "system": false,
          "required": false,
          "options": {
            "collectionId": "staff_collection",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": [
              "first_name",
              "last_name"
            ]
          }
        },
        {
          "id": "assigned_busser",
          "name": "assigned_busser",
          "type": "relation",
          "system": false,
          "required": false,
          "options": {
            "collectionId": "staff_collection",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": [
              "first_name",
              "last_name"
            ]
          }
        },
        {
          "id": "max_capacity",
          "name": "max_capacity",
          "type": "number",
          "system": false,
          "required": false,
          "options": {
            "min": 0,
            "max": null
          }
        },
        {
          "id": "is_active",
          "name": "is_active",
          "type": "bool",
          "system": false,
          "required": false
        },
        {
          "id": "description",
          "name": "description",
          "type": "text",
          "system": false,
          "required": false,
          "options": {
            "min": null,
            "max": 500,
            "pattern": ""
          }
        }
      ],
      "indexes": [],
      "listRule": "",
      "viewRule": "",
      "createRule": "@request.auth.role = 'manager' || @request.auth.role = 'owner'",
      "updateRule": "@request.auth.role = 'manager' || @request.auth.role = 'owner'",
      "deleteRule": "@request.auth.role = 'owner'",
      "options": {}
    },
    {
      "id": "tables_collection",
      "name": "tables",
      "type": "base",
      "system": false,
      "schema": [
        {
          "id": "table_name",
          "name": "table_name",
          "type": "text",
          "system": false,
          "required": true,
          "options": {
            "min": 1,
            "max": 20,
            "pattern": ""
          }
        },
        {
          "id": "section",
          "name": "section",
          "type": "relation",
          "system": false,
          "required": true,
          "options": {
            "collectionId": "sections_collection",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": [
              "section_name",
              "section_code"
            ]
          }
        },
        {
          "id": "capacity",
          "name": "capacity",
          "type": "number",
          "system": false,
          "required": true,
          "options": {
            "min": 1,
            "max": 20
          }
        },
        {
          "id": "table_type",
          "name": "table_type",
          "type": "select",
          "system": false,
          "required": true,
          "options": {
            "maxSelect": 1,
            "values": [
              "standard",
              "high_top",
              "booth",
              "patio",
              "bar_stool",
              "private"
            ]
          }
        },
        {
          "id": "status",
          "name": "status",
          "type": "select",
          "system": false,
          "required": true,
          "options": {
            "maxSelect": 1,
            "values": [
              "available",
              "occupied",
              "reserved",
              "cleaning",
              "maintenance",
              "blocked"
            ]
          }
        },
        {
          "id": "current_party_size",
          "name": "current_party_size",
          "type": "number",
          "system": false,
          "required": false,
          "options": {
            "min": 0,
            "max": 20
          }
        },
        {
          "id": "seated_time",
          "name": "seated_time",
          "type": "date",
          "system": false,
          "required": false,
          "options": {
            "min": "",
            "max": ""
          }
        },
        {
          "id": "estimated_turnover",
          "name": "estimated_turnover",
          "type": "date",
          "system": false,
          "required": false,
          "options": {
            "min": "",
            "max": ""
          }
        },
        {
          "id": "location_x",
          "name": "location_x",
          "type": "number",
          "system": false,
          "required": false,
          "options": {
            "min": 0,
            "max": 12
          }
        },
        {
          "id": "location_y",
          "name": "location_y",
          "type": "number",
          "system": false,
          "required": false,
          "options": {
            "min": 0,
            "max": 8
          }
        },
        {
          "id": "notes",
          "name": "notes",
          "type": "text",
          "system": false,
          "required": false,
          "options": {
            "min": null,
            "max": 500,
            "pattern": ""
          }
        },
        {
          "id": "reservation_name",
          "name": "reservation_name",
          "type": "text",
          "system": false,
          "required": false,
          "options": {
            "min": null,
            "max": 100,
            "pattern": ""
          }
        },
        {
          "id": "last_updated_by",
          "name": "last_updated_by",
          "type": "relation",
          "system": false,
          "required": false,
          "options": {
            "collectionId": "staff_collection",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": [
              "first_name",
              "last_name"
            ]
          }
        }
      ],
      "indexes": [],
      "listRule": "",
      "viewRule": "",
      "createRule": "@request.auth.role = 'manager' || @request.auth.role = 'owner' || @request.auth.role = 'server' || @request.auth.role = 'busser'",
      "updateRule": "@request.auth.role = 'manager' || @request.auth.role = 'owner' || @request.auth.role = 'server' || @request.auth.role = 'busser'",
      "deleteRule": "@request.auth.role = 'manager' || @request.auth.role = 'owner'",
      "options": {}
    },
    {
      "id": "table_updates_collection",
      "name": "table_updates",
      "type": "base",
      "system": false,
      "schema": [
        {
          "id": "table",
          "name": "table",
          "type": "relation",
          "system": false,
          "required": true,
          "options": {
            "collectionId": "tables_collection",
            "cascadeDelete": true,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": [
              "table_name"
            ]
          }
        },
        {
          "id": "action_type",
          "name": "action_type",
          "type": "select",
          "system": false,
          "required": true,
          "options": {
            "maxSelect": 1,
            "values": [
              "seated",
              "cleared",
              "cleaned",
              "reserved",
              "cancelled",
              "maintenance",
              "blocked",
              "available",
              "order_taken",
              "food_served",
              "check_dropped",
              "payment_received"
            ]
          }
        },
        {
          "id": "performed_by",
          "name": "performed_by",
          "type": "relation",
          "system": false,
          "required": true,
          "options": {
            "collectionId": "staff_collection",
            "cascadeDelete": false,
            "minSelect": null,
            "maxSelect": 1,
            "displayFields": [
              "first_name",
              "last_name"
            ]
          }
        },
        {
          "id": "party_size",
          "name": "party_size",
          "type": "number",
          "system": false,
          "required": false,
          "options": {
            "min": 0,
            "max": 20
          }
        },
        {
          "id": "notes",
          "name": "notes",
          "type": "text",
          "system": false,
          "required": false,
          "options": {
            "min": null,
            "max": 1000,
            "pattern": ""
          }
        },
        {
          "id": "estimated_duration",
          "name": "estimated_duration",
          "type": "number",
          "system": false,
          "required": false,
          "options": {
            "min": 0,
            "max": 300
          }
        },
        {
          "id": "reservation_name",
          "name": "reservation_name",
          "type": "text",
          "system": false,
          "required": false,
          "options": {
            "min": null,
            "max": 100,
            "pattern": ""
          }
        }
      ],
      "indexes": [],
      "listRule": "",
      "viewRule": "",
      "createRule": "@request.auth.role = 'manager' || @request.auth.role = 'owner' || @request.auth.role = 'server' || @request.auth.role = 'busser'",
      "updateRule": "@request.auth.role = 'manager' || @request.auth.role = 'owner'",
      "deleteRule": "@request.auth.role = 'manager' || @request.auth.role = 'owner'",
      "options": {}
    }
  ]
}
